<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-knowledgebases/flow" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Flow | NewRA</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://kunjalb2.github.io/newra_documentation/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://kunjalb2.github.io/newra_documentation/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://kunjalb2.github.io/newra_documentation/docs/knowledgebases/flow"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Flow | NewRA"><meta data-rh="true" name="description" content="NewRA employs a structure known as a &quot;Knowledge Base,&quot; which is a compilation of data sources gathered and stored within a vector database. These repositories become the primary source of information for AI models utilized in applications. NewRA offers the ability to establish multiple Knowledge Bases, facilitating the importation and training of a diverse range of data sources."><meta data-rh="true" property="og:description" content="NewRA employs a structure known as a &quot;Knowledge Base,&quot; which is a compilation of data sources gathered and stored within a vector database. These repositories become the primary source of information for AI models utilized in applications. NewRA offers the ability to establish multiple Knowledge Bases, facilitating the importation and training of a diverse range of data sources."><link data-rh="true" rel="icon" href="/newra_documentation/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://kunjalb2.github.io/newra_documentation/docs/knowledgebases/flow"><link data-rh="true" rel="alternate" href="https://kunjalb2.github.io/newra_documentation/docs/knowledgebases/flow" hreflang="en"><link data-rh="true" rel="alternate" href="https://kunjalb2.github.io/newra_documentation/docs/knowledgebases/flow" hreflang="x-default"><link rel="stylesheet" href="/newra_documentation/assets/css/styles.70ff24a8.css">
<script src="/newra_documentation/assets/js/runtime~main.0946f6b9.js" defer="defer"></script>
<script src="/newra_documentation/assets/js/main.d5471f0b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/newra_documentation/"><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/newra_documentation/docs/intro">NewRA</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/newra_documentation/docs/intro">Tutorial Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/newra_documentation/docs/Database">Database</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/newra_documentation/docs/knowledgebases/flow">Knowledgebases</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/newra_documentation/docs/knowledgebases/flow">Flow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/newra_documentation/docs/knowledgebases/database">Database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/newra_documentation/docs/knowledgebases/AI-settings">AI Settings</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/newra_documentation/docs/knowledgebases/datasources/database">Datasources</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/newra_documentation/docs/knowledgebases/Playground">Playground</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/newra_documentation/docs/knowledgebases/Logs">Logs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/newra_documentation/docs/knowledgebases/Settings">Settings</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/newra_documentation/docs/apps/database">Apps</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/newra_documentation/docs/setting-module/database">Settings</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/newra_documentation/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Knowledgebases</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Flow</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Flow</h1>
<p>NewRA employs a structure known as a &quot;Knowledge Base,&quot; which is a compilation of data sources gathered and stored within a vector database. These repositories become the primary source of information for AI models utilized in applications. NewRA offers the ability to establish multiple Knowledge Bases, facilitating the importation and training of a diverse range of data sources.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="modular-approach">Modular Approach<a class="hash-link" aria-label="Direct link to Modular Approach" title="Direct link to Modular Approach" href="/newra_documentation/docs/knowledgebases/flow#modular-approach">​</a></h2>
<p>In NewRA, all code relevant to Knowledge Bases is contained within the &quot;KnowledgeBase&quot; module. This dedicated module incorporates its unique routes, models, controllers, views, etc., streamlining Knowledge Base operations.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="route-directory">Route Directory<a class="hash-link" aria-label="Direct link to Route Directory" title="Direct link to Route Directory" href="/newra_documentation/docs/knowledgebases/flow#route-directory">​</a></h2>
<p>For routes connected to the KnowledgeBase module reference the path <code>newra/web/Modules/KnowledgeBase/Routes/web.php</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="knowledge-base-listing-page">Knowledge Base Listing Page<a class="hash-link" aria-label="Direct link to Knowledge Base Listing Page" title="Direct link to Knowledge Base Listing Page" href="/newra_documentation/docs/knowledgebases/flow#knowledge-base-listing-page">​</a></h2>
<p>The Knowledge Base Listing Page offers a centralized view and management portal for all Knowledge Bases. It allows users to adjust the status of each Knowledge Base (enabled/disabled) and provides easy access to a Knowledge Base&#x27;s detailed information page.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-new-knowledge-base">Creating a New Knowledge Base<a class="hash-link" aria-label="Direct link to Creating a New Knowledge Base" title="Direct link to Creating a New Knowledge Base" href="/newra_documentation/docs/knowledgebases/flow#creating-a-new-knowledge-base">​</a></h2>
<p>Creating a new Knowledge Base is facilitated using the <code>index</code> method in the <code>KnowledgeBaseController</code>. It employs the <code>CreateKnowledgebaseForm</code> to display the creation form.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="storing-and-updating-knowledge-bases">Storing and Updating Knowledge Bases<a class="hash-link" aria-label="Direct link to Storing and Updating Knowledge Bases" title="Direct link to Storing and Updating Knowledge Bases" href="/newra_documentation/docs/knowledgebases/flow#storing-and-updating-knowledge-bases">​</a></h2>
<p>The <code>store</code> method captures your data post successful validation. Following the storage or update operation via the <code>update</code> method, users are redirected to the comprehensive knowledge base listing page.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deleting-knowledge-base">Deleting Knowledge Base<a class="hash-link" aria-label="Direct link to Deleting Knowledge Base" title="Direct link to Deleting Knowledge Base" href="/newra_documentation/docs/knowledgebases/flow#deleting-knowledge-base">​</a></h2>
<p>The <code>Destroy</code> method is used to delete the KnowledgeBase from the database and it will trigger <code>KnowledgeBaseDeleted</code> event.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="dispatched-events">Dispatched Events<a class="hash-link" aria-label="Direct link to Dispatched Events" title="Direct link to Dispatched Events" href="/newra_documentation/docs/knowledgebases/flow#dispatched-events">​</a></h2>
<p>In response to particular conditions in the life cycle of a Knowledge Base object, certain events are triggered. Namely, the events are <code>KnowledgeBaseCreated</code>, <code>KnowledgeBaseDeleting</code>, and <code>KnowledgeBaseDeleted</code>.</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class KnowledgeBase extends Model{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected $dispatchesEvents = [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;created&#x27; =&gt; KnowledgeBaseCreated::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;deleting&#x27; =&gt; KnowledgeBaseDeleting::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;deleted&#x27; =&gt; KnowledgeBaseDeleted::class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>Event Listeners</h1>
<p>Event listeners are designed to react to specific events that occur during the runtime of NewRA, particularly those related to the lifecycle of a Knowledge Base. These listeners perform predefined tasks once the associated event has been dispatched. Here are the details of each listener:</p>
<ul>
<li>
<p><strong>EventServiceProvider</strong>: Located at <code>Modules\KnowledgeBase\Providers\EventServiceProvider.php</code>, this provider maps the events to their corresponding listeners when triggered within the application.</p>
</li>
<li>
<p><strong>KnowledgeBaseCreatedHandler</strong>: This listener is set in motion by the <code>KnowledgeBaseCreated</code> event. It can be found at <code>Modules/KnowledgeBase/Listeners/KnowledgeBaseCreatedHandler.php</code>. Its primary role is to manage any setup tasks necessary after a new Knowledge Base has been successfully created. This could include initializing configurations, notifying other parts of the system about the new Knowledge Base, or even triggering additional events to set off other workflows.</p>
</li>
<li>
<p><strong>KnowledgeBaseDeletingHandler</strong>: Activated by the <code>KnowledgeBaseDeleting</code> event, this listener resides in <code>Modules/KnowledgeBase/Listeners/KnowledgeBaseDeletingHandler.php</code>. It&#x27;s in charge of all house-cleaning tasks that must happen immediately before a Knowledge Base is deleted from the system. This can involve unlinking the Knowledge Base from associated apps, revoking permissions, or flagging relationships for cleanup.</p>
</li>
<li>
<p><strong>KnowledgeBaseDeletedHandler</strong>: Triggered by the <code>KnowledgeBaseDeleted</code> event, the corresponding listener is located in <code>Modules/KnowledgeBase/Listeners/KnowledgeBaseDeletedHandler.php</code>. This listener is responsible for wrapping up any tasks that need to happen immediately after the deletion of a Knowledge Base. For example, it might be tasked to delete all files associated with the Knowledge Base within the S3 storage system or clear cached data respective to that Knowledge Base.</p>
</li>
</ul>
<p>Through these listeners, the system ensures that the codebase remains organized, clean, and efficient, with each part of the system staying informed about changes that might affect it.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/knowledgebases/flow.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/newra_documentation/docs/Database"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Database</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/newra_documentation/docs/knowledgebases/database"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Database</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/newra_documentation/docs/knowledgebases/flow#modular-approach">Modular Approach</a></li><li><a class="table-of-contents__link toc-highlight" href="/newra_documentation/docs/knowledgebases/flow#route-directory">Route Directory</a></li><li><a class="table-of-contents__link toc-highlight" href="/newra_documentation/docs/knowledgebases/flow#knowledge-base-listing-page">Knowledge Base Listing Page</a></li><li><a class="table-of-contents__link toc-highlight" href="/newra_documentation/docs/knowledgebases/flow#creating-a-new-knowledge-base">Creating a New Knowledge Base</a></li><li><a class="table-of-contents__link toc-highlight" href="/newra_documentation/docs/knowledgebases/flow#storing-and-updating-knowledge-bases">Storing and Updating Knowledge Bases</a></li><li><a class="table-of-contents__link toc-highlight" href="/newra_documentation/docs/knowledgebases/flow#deleting-knowledge-base">Deleting Knowledge Base</a></li><li><a class="table-of-contents__link toc-highlight" href="/newra_documentation/docs/knowledgebases/flow#dispatched-events">Dispatched Events</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>